

[DAO_ROOT_NFT_CATEGORY + CAPABILITY_MUTABLE]    // NFT del DAO con capability mutable
OP_UTXOTOKENCATEGORY                             // Obtener categoría actual del NFT en input
OP_EQUALVERIFY                                   // Verificar que es el NFT del DAO

// Datos del estado (version, quórum, tiempo votación...) en el commitment del NFT
// Ej: Primeros 8 bytes: quórum requerido, siguientes 8 bytes: duración votación, etc.

// Operaciones permitidas:
// 1. Check-in de Threads:
//    - Verificar firma del thread NFT, estado correcto, actualizar root-state si procede.
// 2. Registro/Baja de Propuestas:
//    - Recibir NFT de propuesta, actualizar el árbol de estado (ej. merkle root con IDs).
//    - Sólo outputs con la misma NFT del DAO y estado mutado correctamente.

<validate_new_state> OP_VERIFY
OP_CHECKSIG  // si se requiere firma de la clave administradora inicial o multisig del DAO
